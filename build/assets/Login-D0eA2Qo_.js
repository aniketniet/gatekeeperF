import{u as C,r as o,j as e,L as f,C as y,c as t,d as n,e as I,f as L,g as N,h as S,i as l,k as c,l as i,m as w,n as d,o as k,p as v,q as b}from"./index-CGN4UzBj.js";const G=()=>{const x=C(),[m,u]=o.useState(""),[g,h]=o.useState(""),[p,r]=o.useState(!1);async function j(){r(!0);try{const s={employeeId:m,password:g},a=await b.post("http://45.198.13.238/api/auth/admin-login",s);console.log(a,"res"),localStorage.setItem("user",JSON.stringify(a.data.user)),localStorage.setItem("token",a.data.token),a.status===200?(console.log(a.data),localStorage.setItem("user",JSON.stringify(a.data.user)),localStorage.setItem("token",a.data.token),x("/dashboard")):alert("Login failed: Invalid credentials.")}catch(s){console.error("Login error:",s),alert("Login Failed! Please try again."),r(!1)}}return e.jsxs(e.Fragment,{children:[p&&e.jsx(f,{}),e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(y,{children:e.jsx(t,{className:"justify-content-center",children:e.jsx(n,{md:8,children:e.jsx(I,{children:e.jsx(L,{className:"p-4",children:e.jsx(N,{children:e.jsxs(S,{children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsxs(l,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(i,{icon:w})}),e.jsx(d,{placeholder:"User Id",autoComplete:"off",name:"username",onChange:s=>u(s.target.value)})]}),e.jsxs(l,{className:"mb-4",children:[e.jsx(c,{children:e.jsx(i,{icon:k})}),e.jsx(d,{type:"password",placeholder:"Password",name:"password",onChange:s=>h(s.target.value),autoComplete:"current-password"})]}),e.jsx(t,{children:e.jsx(n,{xs:6,children:e.jsx(v,{color:"primary",className:"px-4",onClick:j,children:"Login"})})})]})})})})})})})})]})};export{G as default};
